!function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),i.d(e,"StartGame",(function(){return I})),i.d(e,"GetCanvas",(function(){return F}));var r={Up:{Pressed:!1},Down:{Pressed:!1},Left:{Pressed:!1},Right:{Pressed:!1},LastKey:{Right:!1,Left:!1}};function s(){return r}function h(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}addEventListener("keydown",(function(t){switch(t.keyCode){case 65:r.Left.Pressed=!0;break;case 32:r.Up.Pressed=!0;break;case 83:r.Down.Pressed=!0;break;case 68:r.Right.Pressed=!0}})),addEventListener("keyup",(function(t){switch(t.keyCode){case 65:r.Left.Pressed=!1,r.LastKey.Right=!1,r.LastKey.Left=!0;break;case 32:r.Up.Pressed=!1;break;case 83:r.Down.Pressed=!1;break;case 68:r.Right.Pressed=!1,r.LastKey.Right=!0,r.LastKey.Left=!1}}));var o=function(){function t(e,i,r,s,h,n,o,a,c,d,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gravity=t.gravity,this.ctx=e,this.position={x:i,y:r},this.width=s,this.height=h,this.velocity={x:0,y:0},this.image=n,this.speed=t.Speed,this.jumpForce=20,this.spriteSheet=u,this.currentCropWidth=this.spriteSheet.stand.cropWidth,this.currentWidth=this.spriteSheet.stand.width,this.srcX=this.currentCropWidth,this.srcY=a,this.sWidth=this.currentCropWidth,this.sHeight=d,this.curFrame=0,this.frameCount=59,this.currentSprite=this.spriteSheet.stand.right}var e,i,r;return e=t,(i=[{key:"draw",value:function(){this.ctx.fillStyle="red",this.ctx.fillRect(this.position.x,this.position.y,this.width,this.height)}},{key:"drawImage",value:function(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}},{key:"drawSpriteImage",value:function(){this.ctx.drawImage(this.currentSprite,this.srcX,this.srcY,this.sWidth,this.sHeight,this.position.x,this.position.y,this.width,this.height)}},{key:"updateFrame",value:function(){this.srcX=this.currentCropWidth,this.sWidth=this.currentCropWidth,this.width=this.currentWidth,this.curFrame>this.frameCount&&(this.curFrame=0),this.srcX=this.curFrame*this.sWidth,this.curFrame++}},{key:"update",value:function(e){this.updateFrame(),this.position.y+=this.velocity.y,this.position.x+=this.velocity.x,this.position.y+this.height+this.velocity.y<=e.height&&(this.velocity.y+=this.gravity),s().Right.Pressed?(this.currentSprite=this.spriteSheet.run.right,this.currentCropWidth=this.spriteSheet.run.cropWidth,this.currentWidth=this.spriteSheet.run.width,this.frameCount=29,this.velocity.x=this.speed):s().Left.Pressed?(this.currentSprite=this.spriteSheet.run.left,this.currentCropWidth=this.spriteSheet.run.cropWidth,this.currentWidth=this.spriteSheet.run.width,this.frameCount=29,this.velocity.x=-this.speed):(s().LastKey.Right?this.currentSprite=this.spriteSheet.stand.right:s().LastKey.Left&&(this.currentSprite=this.spriteSheet.stand.left),this.currentCropWidth=this.spriteSheet.stand.cropWidth,this.currentWidth=this.spriteSheet.stand.width,this.frameCount=59,this.velocity.x=0),s().Up.Pressed&&(this.velocity.y=-this.jumpForce),this.position.y>e.height&&(t.lose=!0,I())}}])&&h(e.prototype,i),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(o,"gravity",void 0),n(o,"lose",void 0),n(o,"Speed",8);var c=function(){function t(e,i,r,s,h,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.position={x:i,y:r},this.width=s,this.height=h,this.image=n}var e,i,r;return e=t,(i=[{key:"drawImage",value:function(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}},{key:"parallaxEffect",value:function(t){t.Right.Pressed?this.position.x-=.66*o.Speed:t.Left.Pressed&&(this.position.x+=.66*o.Speed)}}])&&a(e.prototype,i),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u,p,f,l=function(){function t(e,i,r,s,h,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.position={x:i,y:r},this.width=s,this.height=h,this.image=n,this.scrollStartRight=.2*F.width,this.scrollStartLeft=.6*F.width}var e,i,r;return e=t,(i=[{key:"draw",value:function(){this.ctx.fillStyle="blue",this.ctx.fillRect(this.position.x,this.position.y,this.width,this.height)}},{key:"drawImage",value:function(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}},{key:"Collision",value:function(t){t.position.y+t.height<=this.position.y&&t.position.y+t.height+t.velocity.y>=this.position.y&&t.position.x+t.width>=this.position.x&&t.position.x<=this.position.x+this.width&&(t.velocity.y=0)}},{key:"BoundaryCheck",value:function(e,i){i.Right.Pressed&&e.position.x<this.scrollStartRight?e.velocity.x=o.Speed:i.Left.Pressed&&e.position.x>this.scrollStartLeft?e.velocity.x=-o.Speed:(e.velocity.x=0,i.Right.Pressed?(t.scrollOffset+=o.Speed,this.position.x-=o.Speed):i.Left.Pressed&&(t.scrollOffset-=o.Speed,this.position.x+=o.Speed))}}])&&d(e.prototype,i),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();f=0,(p="scrollOffset")in(u=l)?Object.defineProperty(u,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[p]=f;var y,g=i.p+"ffab39d3487de561be1a081fcfb3806d.png",v=i.p+"cfffe4c371f5e11d372b398a87c51dd0.png",w=i.p+"072d51bcc9c09311d4c2a6708b05bddc.png",b=i.p+"c67ea51444aafa9bdcd5bdfd4f4a55bb.png",m=i.p+"a2f75989924952a7e49ce0405d487c93.png",x=i.p+"11514f48f22f6d8e3cf748e45e3e1ffb.png",S=i.p+"01e8f15e899155c68950c40e0a6b8df0.png",P=document.querySelector("#game-canvas");P.width=900,P.height=600;var k={width:P.width,height:P.height},C=P.getContext("2d");function W(t){var e=new Image;return e.src=t,e}var L={stand:{right:W(S),left:W(x),cropWidth:177,width:66},run:{right:W(m),left:W(b),cropWidth:341,width:127.875}};o.gravity=1.3;var O=new o(C,200,200,70,120,W(b),0,0,0,400,L),j=[],R=[];function I(){o.gravity=1.3,O=new o(C,200,200,L.stand.width,120,W(x),0,0,0,400,L),j=[],R=[];for(var t=0;t<10;t++)j.push(new l(C,900*t,P.height-100,605,100,W(g)));R.push(new c(C,0,-10,5*P.width,P.height+10,W(w))),R.push(new c(C,100,P.height-580,7e3,500,W(v)))}function F(){return{width:P.width,height:P.height}}I(),function t(e){requestAnimationFrame(t),(e-y)/1e3<.005||(y=e,C.clearRect(0,0,P.width,P.height),R.forEach((function(t){t.drawImage(),t.parallaxEffect(s())})),O.drawSpriteImage(),O.update(k),j.forEach((function(t){t.drawImage(),t.Collision(O),t.BoundaryCheck(O,s())})))}()}]);
//# sourceMappingURL=canvas.bundle.js.map